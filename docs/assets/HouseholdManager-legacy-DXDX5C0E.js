System.register(["./index-legacy-CBJaRI7y.js","./Button-legacy-7JcGJbKP.js","./Input-legacy-CPbitdLs.js","./x-legacy-BkTJWami.js","./save-legacy-CDIHckZ0.js","./user-legacy-C3w2Q7Mi.js"],function(e,l){"use strict";var a,s,n,t,i,o,d,r,c,g,h,m,u;return{setters:[e=>{a=e.c,s=e.r,n=e.j,t=e.L,i=e.M,o=e.i,d=e.N,r=e.O},e=>{c=e.B},e=>{g=e.I},e=>{h=e.X},e=>{m=e.S},e=>{u=e.U}],execute:function(){
/**
       * @license lucide-react v0.556.0 - ISC
       *
       * This source code is licensed under the ISC license.
       * See the LICENSE file in the root directory of this source tree.
       */
const l=a("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),x=a("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),b=a("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e("H",({members:e,onChange:a})=>{const[v,j]=s.useState(!1),[p,f]=s.useState(null),[y,N]=s.useState({id:"",name:"",age:"",needs:"",mobilityFlag:!1,medicalFlag:!1,loginEnabled:!1,loginPhone:""}),M=e=>{const l=d(e).slice(0,15);return l.length<=10?l.length<4?l:l.length<7?`(${l.slice(0,3)}) ${l.slice(3)}`:`(${l.slice(0,3)}) ${l.slice(3,6)}-${l.slice(6,10)}`:`+${l}`},F=()=>{const l=y.name.trim(),s=String(y.age||"").trim();if(!l)return void f("Name is required.");if(!t(s)||null===i(s))return void f("Date of birth is required in MM/DD/YYYY format.");if(y.loginEnabled&&!o(y.loginPhone||""))return void f("A valid member phone is required to enable account invites.");const n=r(s),d=["INFANT","CHILD","SENIOR"].includes(n),c={...y,name:l,age:s,ageGroup:n,mobilityFlag:Boolean(y.mobilityFlag)||d,medicalFlag:Boolean(y.medicalFlag),loginPhone:y.loginEnabled?M(y.loginPhone||""):""},g=e.findIndex(e=>e.id===y.id);let h=[...e];g>=0?h[g]=c:h.push(c),a(h),f(null),j(!1)};return v?n.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4 shadow-sm animate-fade-in",children:[n.jsxs("h4",{className:"font-bold text-slate-900 mb-3 flex items-center justify-between",children:[n.jsx("span",{children:e.some(e=>e.id===y.id)?"Edit Member":"Add Family Member"}),n.jsx("button",{onClick:()=>j(!1),className:"text-slate-400 hover:text-slate-600",children:n.jsx(h,{size:20})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(g,{label:"Name",placeholder:"e.g. Sarah Jones",value:y.name,onChange:e=>N({...y,name:e.target.value}),autoFocus:!0}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(g,{label:"Date of Birth",placeholder:"MM/DD/YYYY",value:y.age,onChange:e=>N({...y,age:e.target.value}),error:!y.age||t(y.age)&&null!==i(y.age)?void 0:"Use MM/DD/YYYY"}),n.jsx(g,{label:"Medical/Needs",placeholder:"Optional",value:y.needs,onChange:e=>N({...y,needs:e.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Mobility Flag"}),n.jsxs("select",{value:String(Boolean(y.mobilityFlag)),onChange:e=>N({...y,mobilityFlag:"true"===e.target.value}),className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none transition-all text-slate-900",children:[n.jsx("option",{value:"true",children:"Yes"}),n.jsx("option",{value:"false",children:"No"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Medical Flag"}),n.jsxs("select",{value:String(Boolean(y.medicalFlag)),onChange:e=>N({...y,medicalFlag:"true"===e.target.value}),className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none transition-all text-slate-900",children:[n.jsx("option",{value:"true",children:"Yes"}),n.jsx("option",{value:"false",children:"No"})]})]})]}),n.jsxs("label",{className:"flex items-center justify-between rounded-lg border border-slate-200 p-3",children:[n.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Allow account invite (optional)"}),n.jsx("input",{type:"checkbox",checked:Boolean(y.loginEnabled),onChange:e=>N({...y,loginEnabled:e.target.checked})})]}),n.jsx("p",{className:"text-xs text-slate-500 -mt-1",children:"This does not create an account. It only enables invite-code access for this person."}),y.loginEnabled&&n.jsx(g,{label:"Member Mobile Phone *",placeholder:"(555) 123-4567",value:y.loginPhone||"",onChange:e=>N({...y,loginPhone:M(e.target.value)}),error:y.loginPhone&&!o(y.loginPhone)?"Enter a valid phone number":void 0}),p&&n.jsx("p",{className:"text-xs text-red-600 font-semibold",children:p}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(c,{variant:"ghost",fullWidth:!0,onClick:()=>{j(!1),f(null)},children:"Cancel"}),n.jsxs(c,{fullWidth:!0,onClick:F,children:[n.jsx(m,{size:16,className:"mr-2"})," Save Member"]})]})]})]}):n.jsxs("div",{className:"space-y-3",children:[e.length>0?n.jsx("div",{className:"grid gap-2",children:e.map(s=>n.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-3 flex items-center justify-between shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-500",children:n.jsx(u,{size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-slate-900 leading-tight",children:s.name}),n.jsxs("p",{className:"text-xs text-slate-500",children:["DOB: ",s.age||"N/A","boolean"==typeof s.mobilityFlag&&" • Mobility: "+(s.mobilityFlag?"Yes":"No"),"boolean"==typeof s.medicalFlag&&" • Medical: "+(s.medicalFlag?"Yes":"No")," • Account Invite: "+(s.loginEnabled?"Enabled":"Not enabled"),s.loginEnabled&&s.loginPhone&&` • ${s.loginPhone}`,s.needs&&` • ${s.needs}`]})]})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>(e=>{N({...e,mobilityFlag:Boolean(e.mobilityFlag),medicalFlag:Boolean(e.medicalFlag),loginEnabled:Boolean(e.loginEnabled),loginPhone:e.loginPhone||""}),f(null),j(!0)})(s),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",children:n.jsx(l,{size:16})}),n.jsx("button",{onClick:()=>{return l=s.id,void(confirm("Remove this member?")&&a(e.filter(e=>e.id!==l)));var l},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",children:n.jsx(b,{size:16})})]})]},s.id))}):n.jsx("div",{className:"text-center p-4 bg-slate-50 rounded-xl border border-dashed border-slate-300 text-slate-500 text-sm",children:"No household members added yet."}),n.jsxs(c,{variant:"outline",fullWidth:!0,onClick:()=>{N({id:Date.now().toString(),name:"",age:"",needs:"",mobilityFlag:!1,medicalFlag:!1,loginEnabled:!1,loginPhone:""}),f(null),j(!0)},className:"border-dashed border-slate-300 text-slate-600 hover:border-brand-400 hover:text-brand-600",children:[n.jsx(x,{size:18,className:"mr-2"})," Add Member"]})]})})}}});
