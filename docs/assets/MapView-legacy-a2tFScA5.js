System.register(["./index-legacy-CBJaRI7y.js","./mockGenAI-legacy-BrnnHUgy.js","./Input-legacy-CPbitdLs.js","./Card-legacy-FBUKwHOg.js","./arrow-left-legacy-BCEH-quZ.js","./loader-circle-legacy-D8bpLPmH.js","./search-legacy-SBSbwudi.js","./map-pin-legacy-_ytGCQvV.js","./navigation-legacy-Cgr2GBqX.js"],function(e,s){"use strict";var t,a,l,r,n,i,o,c,d,x,p;return{setters:[e=>{t=e.c,a=e.r,l=e.j},e=>{r=e.G},e=>{n=e.I},e=>{i=e.C},e=>{o=e.A},e=>{c=e.L},e=>{d=e.S},e=>{x=e.M},e=>{p=e.N}],execute:function(){
/**
       * @license lucide-react v0.556.0 - ISC
       *
       * This source code is licensed under the ISC license.
       * See the LICENSE file in the root directory of this source tree.
       */
const s=t("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e("MapView",({setView:e})=>{const[t,g]=a.useState(""),[h,u]=a.useState(!1),[m,b]=a.useState(null),[v,j]=a.useState([]),[f,y]=a.useState(null);a.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{y({lat:e.coords.latitude,lng:e.coords.longitude})},e=>console.error("Error getting location",e),{enableHighAccuracy:!0})},[]);const N=async e=>{if(e.trim()){u(!0),b(null),j([]);try{var s;const t=new r({apiKey:"PLACEHOLDER_API_KEY"}),a={tools:[{googleMaps:{}}]};f&&(a.toolConfig={retrievalConfig:{latLng:{latitude:f.lat,longitude:f.lng}}});const l=await t.models.generateContent({model:"gemini-2.5-flash",contents:e,config:a});b(l.text||"No details found.");const n=((null===(s=l.candidates)||void 0===s||null===(s=s[0])||void 0===s||null===(s=s.groundingMetadata)||void 0===s?void 0:s.groundingChunks)||[]).map(e=>{var s;return null!==(s=e.web)&&void 0!==s&&s.uri?null:e.maps}).filter(e=>e);j(n)}catch(t){console.error("Maps Grounding Error:",t),b("Unable to connect to map services. Please try again later.")}finally{u(!1)}}};return l.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col pb-safe animate-fade-in",children:[l.jsxs("div",{className:"bg-white border-b border-slate-200 p-4 sticky top-0 z-20",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("button",{onClick:()=>e("DASHBOARD"),className:"p-2 -ml-2 text-slate-500 hover:text-slate-800",children:l.jsx(o,{size:24})}),l.jsx("h1",{className:"font-bold text-lg text-slate-900",children:"Map Assistant"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(n,{placeholder:"Ask for places (e.g. 'Find nearby shelters')...",value:t,onChange:e=>g(e.target.value),className:"pr-12",onKeyDown:e=>"Enter"===e.key&&N(t)}),l.jsx("button",{onClick:()=>N(t),disabled:h,className:"absolute right-2 top-2 p-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 disabled:opacity-50",children:h?l.jsx(c,{size:20,className:"animate-spin"}):l.jsx(d,{size:20})})]}),l.jsx("div",{className:"flex gap-2 overflow-x-auto py-3 no-scrollbar",children:["Nearest emergency shelter","Open hospitals nearby","Where can I buy water?","Gas stations with power"].map(e=>l.jsx("button",{onClick:()=>{g(e),N(e)},className:"px-3 py-1.5 bg-slate-100 text-slate-700 text-xs font-medium rounded-full whitespace-nowrap border border-slate-200 hover:bg-brand-50 hover:text-brand-700 hover:border-brand-200 transition-colors",children:e},e))})]}),l.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[!m&&!h&&l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 opacity-60",children:[l.jsx(x,{size:64,className:"mb-4"}),l.jsx("p",{children:"Use the search bar to find resources near you."})]}),m&&l.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3 text-brand-600 font-bold text-sm uppercase tracking-wide",children:[l.jsx(p,{size:16})," AERA Assistant"]}),l.jsx("div",{className:"prose prose-sm text-slate-800 leading-relaxed",children:m})]}),v.length>0&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-bold text-slate-900 text-sm uppercase tracking-wider pl-1",children:"Located Places"}),v.map((e,t)=>{var a;return l.jsxs(i,{className:"flex items-start gap-4 hover:border-brand-300 transition-colors",children:[l.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-lg shrink-0",children:l.jsx(x,{size:24})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-bold text-slate-900 truncate",children:e.title}),l.jsx("p",{className:"text-xs text-slate-500 mb-2 truncate",children:e.address||"Location details via Google Maps"}),(null===(a=e.placeAnswerSources)||void 0===a?void 0:a.reviewSnippets)&&l.jsxs("p",{className:"text-xs text-slate-600 italic mb-3 line-clamp-2",children:['"',e.placeAnswerSources.reviewSnippets[0].text,'"']}),l.jsxs("a",{href:e.uri,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs font-bold text-brand-600 hover:underline",children:["View on Maps ",l.jsx(s,{size:12})]})]})]},t)})]})]})]})})}}});
