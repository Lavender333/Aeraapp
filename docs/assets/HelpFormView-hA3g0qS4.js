import{j as e,a as n,y as we,z as Se,h as W,F as ke,G as Ce,X as Pe,I as ae,M as Y,L as Le,J as Ie,K as ze,O as Ee,l as Te,Q as $e,V as De,D as le,Y as Ae,Z as Me,_ as _e,$ as Fe}from"./vendor-react-DZ0IVLBb.js";import{L as ie,m as Re,a as Oe,b as Ge}from"./vendor-maps-S3fC-LOA.js";import{B as m}from"./Button-BzswROfv.js";import{I as ne,T as re}from"./Input-D28zJcRZ.js";import{S as w,n as Ue}from"./index-D_urGLpe.js";import{t as r}from"./translations-CdcWkPcN.js";import"./vendor-CCVjAPEY.js";import"./vendor-jspdf-Bd23t5aa.js";import"./vendor-supabase-ChvUvA8t.js";const qe=({current:d,total:c})=>{const u=Math.min(100,Math.max(0,d/c*100));return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between text-xs font-semibold uppercase text-slate-500 mb-2",children:[e.jsxs("span",{children:["Step ",d," of ",c]}),e.jsxs("span",{children:[Math.round(u),"%"]})]}),e.jsx("div",{className:"h-2 w-full bg-slate-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-brand-500 transition-all duration-500 ease-out rounded-full",style:{width:`${u}%`}})})]})};delete ie.Icon.Default.prototype._getIconUrl;ie.Icon.Default.mergeOptions({iconRetinaUrl:Ge,iconUrl:Oe,shadowUrl:Re});const We=({marker:d,onPick:c})=>(_e({click:u=>{c({lat:u.latlng.lat,lng:u.latlng.lng})}}),d?e.jsx(Fe,{position:[d.lat,d.lng]}):null),oe={isSafe:null,location:"",emergencyType:"",isInjured:null,injuryDetails:"",situationDescription:"",canEvacuate:null,hazardsPresent:null,hazardDetails:"",peopleCount:1,petsPresent:null,hasWater:null,hasFood:null,hasMeds:null,hasPower:null,hasPhone:null,needsTransport:null,vulnerableGroups:[],medicalConditions:"",damageType:"",consentToShare:!0},ss=({setView:d})=>{const[c,u]=n.useState(1),[a,S]=n.useState(oe),[B,$]=n.useState(!1),[ce,H]=n.useState(!1),[N,P]=n.useState("idle"),[D,de]=n.useState(""),[A,K]=n.useState(null),[M,j]=n.useState(null),[Z,L]=n.useState(!1),[x,b]=n.useState(!0),[p,I]=n.useState(null),[xe,z]=n.useState(""),[v,h]=n.useState(!1),[g,X]=n.useState(!navigator.onLine),_=n.useRef(!1),F=n.useRef(null),R=n.useRef(0),[E,J]=n.useState(!1),[me,O]=n.useState(null),ue=n.useRef(null),[Q,Ye]=n.useState(!1);n.useEffect(()=>{u(1),S(oe),$(!1),H(!1),P("idle"),K(null),j(null),L(!1),b(!0),I(null),z(""),h(!1),_.current=!1,F.current=null,R.current=0},[]),n.useEffect(()=>{var i;const s=w.getProfile();de(s.emergencyContactPhone||""),(i=navigator.permissions)==null||i.query({name:"geolocation"}).then(k=>{k.state==="granted"&&b(!0)});const t=()=>X(!1),l=()=>X(!0);return window.addEventListener("online",t),window.addEventListener("offline",l),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",l)}},[]),n.useEffect(()=>{if(_.current)return;const s=w.getLastKnownLocation();s&&(_.current=!0,S(t=>t.location?t:{...t,location:s.location}),z(new Date(s.timestamp).toLocaleTimeString()),b(!1),h(!1))},[]);const G=s=>{const t=s.match(/^\s*(-?\d+(?:\.\d+)?)\s*,\s*(-?\d+(?:\.\d+)?)\s*$/);if(!t)return null;const l=Number(t[1]),i=Number(t[2]);return!Number.isFinite(l)||!Number.isFinite(i)||Math.abs(l)>90||Math.abs(i)>180?null:{lat:l,lng:i}},V=n.useMemo(()=>{const s=G(a.location||"");if(s)return s;const t=w.getLastKnownLocation();return(t!=null&&t.location?G(t.location):null)||{lat:37.7749,lng:-122.4194}},[a.location]);n.useEffect(()=>{if(!E)return;const s=G(a.location||"");s&&O(s)},[a.location,E]);const U=async()=>{h(!1),j("Location services unavailable. Please enter address manually.")};n.useEffect(()=>{let s;const t=()=>{j(null),L(!1),h(!1);const l=C=>{const{latitude:f,longitude:y,accuracy:ee}=C.coords,se=Date.now(),T=Number.isFinite(ee)?Math.round(ee):null,q=F.current,Ne=T!==null&&(q===null||T<=q+5),ve=se-R.current>3e4;if(Ne||ve){F.current=T??q,R.current=se;const te=`${f.toFixed(6)}, ${y.toFixed(6)}`;S(ye=>({...ye,location:te})),I(T),z(new Date().toLocaleTimeString()),j(null),L(!1),h(!1),A&&w.updateRequestLocation(A,te)}},i=C=>{let f="Location unavailable",y=!1;switch(C.code){case 1:f="GPS denied. Please enter address manually.",L(!0),U(),y=!0;break;case 2:f="Signal weak. Please enter address manually.",U(),y=!0;break;case 3:f="GPS Timeout. Retrying...";break;default:f="GPS Error"}!v&&!y&&j(f),I(null),y&&b(!1)},k={enableHighAccuracy:!0,maximumAge:0,timeout:2e4};s=navigator.geolocation.watchPosition(l,i,k)};return x&&"geolocation"in navigator?t():x&&!("geolocation"in navigator)&&(j("GPS not supported. Using Network Location."),U(),b(!1)),()=>{s&&navigator.geolocation.clearWatch(s)}},[x,A]),n.useEffect(()=>()=>{var s;if(Q){const t=(s=ue.current)==null?void 0:s.srcObject;t==null||t.getTracks().forEach(l=>l.stop())}},[Q]);const o=s=>{S(t=>({...t,...s}))},be=()=>u(s=>Math.min(s+1,5)),fe=()=>u(s=>Math.max(s-1,1)),pe=async()=>{$(!0);const s=w.getLastKnownLocation(),t=a.location||(s==null?void 0:s.location)||"";t&&!a.location&&S(l=>({...l,location:t}));try{const l=await w.submitRequest({...a,location:t});K(l.id),a.emergencyContactPhone&&(P("sending"),Ue({contactName:a.emergencyContactName,contactPhone:a.emergencyContactPhone,userName:a.fullName,emergencyType:a.emergencyType,description:a.situationDescription,location:t,requestId:l.id}).then(()=>P("sent")).catch(i=>{console.warn("Emergency contact notify failed",i),P("failed")})),H(!0)}catch(l){console.error(l),alert("Failed to submit request. Saved locally; will retry when online.")}finally{$(!1)}},he=()=>{const s=D.replace(/[^\d+]/g,""),t=a.isSafe===null?"Unknown Status":a.isSafe?"Safe":"IN DANGER",l=a.emergencyType||"Emergency",i=a.location||"GPS Unavailable",k=a.situationDescription?`- ${a.situationDescription}`:"",C=`I used the AERA app to request emergency assistance.

Type: ${l} ${k}
Location: ${i}
Status: ${t}`,f=navigator.userAgent.match(/iPhone|iPad|iPod/i)?"&":"?";window.location.href=`sms:${s}${f}body=${encodeURIComponent(C)}`},ge=s=>{let t=0,l="bg-slate-300";return s<=15?(t=4,l="bg-green-500"):s<=30?(t=3,l="bg-green-500"):s<=60?(t=2,l="bg-yellow-500"):(t=1,l="bg-red-500"),e.jsxs("div",{className:"flex items-end gap-1 h-3",role:"img","aria-label":`GPS Signal Strength: ${t} of 4 bars`,children:[e.jsx("div",{className:`w-1 rounded-sm ${t>=1?l:"bg-slate-200"} h-1.5`}),e.jsx("div",{className:`w-1 rounded-sm ${t>=2?l:"bg-slate-200"} h-2`}),e.jsx("div",{className:`w-1 rounded-sm ${t>=3?l:"bg-slate-200"} h-2.5`}),e.jsx("div",{className:`w-1 rounded-sm ${t>=4?l:"bg-slate-200"} h-3`})]})},je=s=>s?s<=15?"Excellent Signal":s<=30?"Good Signal":s<=60?"Fair Signal":"Weak Signal":"";return ce?e.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-8 text-center animate-fade-in pb-safe",children:[e.jsxs("div",{className:`w-24 h-24 rounded-full flex items-center justify-center mb-6 relative ${g?"bg-amber-100":"bg-green-100"}`,children:[e.jsx("div",{className:`absolute inset-0 rounded-full border-4 ${g?"border-amber-500/30":"border-green-500/30"} animate-[ping_2s_ease-out_infinite]`}),g?e.jsx(we,{size:48,className:"text-amber-600 relative z-10"}):e.jsx(Se,{size:48,className:"text-green-700 relative z-10"})]}),e.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 mb-2",children:g?"Saved to Outbox":r("help.success_title")}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-900 px-4 py-3 rounded-xl text-sm font-bold mb-8 flex flex-col items-center gap-2 max-w-xs mx-auto animate-pulse",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{size:18,className:"animate-spin"}),"Live Location Sharing Active"]}),e.jsx("span",{className:"font-mono text-xs bg-white/60 px-2 py-1 rounded text-blue-800 border border-blue-100",children:a.location||"Locating..."})]}),e.jsx("p",{className:"text-slate-800 font-medium mb-8 max-w-sm",children:g?"Your report has been saved to your device. It will automatically upload to responders as soon as you connect to the internet.":r("help.success_desc")}),D&&!g&&e.jsxs("div",{className:`text-sm font-bold px-4 py-3 rounded-xl border max-w-xs mx-auto ${N==="sent"?"bg-green-50 text-green-800 border-green-200":N==="failed"?"bg-amber-50 text-amber-800 border-amber-200":"bg-slate-50 text-slate-700 border-slate-200"}`,children:[N==="sent"&&"Emergency contact notified via SMS.",N==="failed"&&"Unable to notify emergency contact. You can continue.",N==="sending"&&"Notifying emergency contact...",N==="idle"&&"Emergency contact notification queued."]}),e.jsxs("div",{className:"w-full space-y-4",children:[D&&e.jsxs(m,{fullWidth:!0,onClick:he,className:"bg-slate-900 hover:bg-slate-800 text-white",children:[e.jsx(ke,{className:"mr-2",size:20}),r("help.text_contact")]}),e.jsx(m,{fullWidth:!0,variant:"outline",onClick:()=>d("DASHBOARD"),className:"border-slate-300 text-slate-900 font-bold",children:r("help.return_dash")})]})]}):e.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col pb-safe",children:[e.jsxs("div",{className:"bg-white border-b border-slate-200 p-4 sticky top-0 z-20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>c===1?d("DASHBOARD"):fe(),className:"p-2 -ml-2 text-slate-600 hover:text-slate-900",children:e.jsx(Ce,{size:24})}),e.jsx("h1",{className:"font-bold text-xl text-slate-900",children:r("help.title")}),e.jsx("button",{onClick:()=>d("DASHBOARD"),className:"p-2 -mr-2 text-slate-400 hover:text-red-600 transition-colors",title:r("btn.cancel"),children:e.jsx(Pe,{size:24})})]}),e.jsx(qe,{current:c,total:5})]}),e.jsxs("div",{className:"flex-1 p-6 space-y-8 animate-fade-in overflow-y-auto pb-32",children:[c===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xl font-bold text-slate-900",children:r("help.safe_q")}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("button",{onClick:()=>o({isSafe:!0}),className:`p-4 rounded-xl border-2 font-bold transition-all ${a.isSafe===!0?"border-brand-600 bg-brand-50 text-brand-800":"border-slate-300 bg-white text-slate-700"}`,children:r("help.yes_safe")}),e.jsx("button",{onClick:()=>o({isSafe:!1}),className:`p-4 rounded-xl border-2 font-bold transition-all ${a.isSafe===!1?"border-red-600 bg-red-50 text-red-800":"border-slate-300 bg-white text-slate-700"}`,children:r("help.no_danger")})]})]}),a.isSafe===!1&&e.jsxs("div",{className:"bg-red-600 text-white p-6 rounded-xl shadow-xl animate-pulse space-y-4 border-4 border-red-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(AlertOctagon,{size:48,className:"text-white"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-extrabold uppercase tracking-wider",children:"Immediate Danger"}),e.jsx("p",{className:"font-medium text-red-100",children:"Do not rely solely on this app."})]})]}),e.jsx(m,{fullWidth:!0,size:"xl",className:"bg-white text-red-700 hover:bg-red-50 font-black text-2xl shadow-lg",onClick:()=>window.location.href="tel:911",children:"CALL 911 NOW"}),e.jsx("p",{className:"text-center text-sm font-bold opacity-80",children:"If you cannot call, continue filling this form."})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:r("help.location")}),x&&e.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-green-600 bg-green-50 px-2 py-0.5 rounded border border-green-100 animate-pulse",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})," LIVE TRACKING"]}),v&&e.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-amber-600 bg-amber-50 px-2 py-0.5 rounded border border-amber-100",children:[e.jsx(ae,{size:10})," APPROX (IP)"]})]}),e.jsx(ne,{placeholder:x?r("help.detecting"):r("help.manual"),value:a.location||"",onChange:s=>{b(!1),h(!1),O(null),o({location:s.target.value})},className:`bg-white font-mono text-sm border-slate-300 text-slate-900 font-semibold pr-24 ${x?"border-brand-500 ring-1 ring-brand-500":v?"border-amber-500 ring-1 ring-amber-500":Z?"border-red-500":""}`,error:!x&&!v&&!a.location&&M&&!Z?M:void 0}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("button",{type:"button",onClick:()=>{J(s=>!s),b(!1),h(!1)},className:"inline-flex items-center gap-2 text-xs font-bold text-slate-700 bg-slate-100 hover:bg-slate-200 px-3 py-1.5 rounded-full",children:[e.jsx(Y,{size:12})," ",E?"Hide Map":"Drop a Pin"]}),e.jsxs("button",{type:"button",onClick:()=>{b(!0),J(!1)},className:"inline-flex items-center gap-2 text-xs font-bold text-brand-700 bg-brand-50 hover:bg-brand-100 px-3 py-1.5 rounded-full",children:[e.jsx(Le,{size:12})," Use GPS"]})]})]}),E&&e.jsxs("div",{className:"mt-3 rounded-xl overflow-hidden border border-slate-200 shadow-sm",children:[e.jsxs("div",{className:"bg-slate-50 px-3 py-2 text-xs font-semibold text-slate-600 flex items-center gap-2",children:[e.jsx(Y,{size:12})," Tap the map to set your exact location"]}),e.jsx("div",{className:"h-64 w-full",children:e.jsxs(Ie,{center:[V.lat,V.lng],zoom:14,scrollWheelZoom:!0,className:"h-full w-full",children:[e.jsx(ze,{attribution:"Â© OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.jsx(We,{marker:me,onPick:s=>{b(!1),h(!1),O(s);const t=`${s.lat.toFixed(6)}, ${s.lng.toFixed(6)}`;o({location:t}),I(null),z(new Date().toLocaleTimeString()),j(null)}})]})})]}),x&&p!==null&&e.jsxs("div",{className:"bg-slate-100 rounded-lg p-3 border border-slate-200 -mt-2 shadow-inner",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[ge(p),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-700 uppercase tracking-wider leading-none mb-0.5",children:je(p)}),e.jsxs("p",{className:"text-xs text-slate-500 font-mono leading-none",children:["Â± ",p,"m precision"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-end text-[10px] text-slate-400 font-bold uppercase mb-0.5",children:[e.jsx(Ee,{size:10})," Last Update"]}),e.jsx("p",{className:"text-xs text-slate-600 font-mono font-bold leading-none",children:xe})]})]}),p>50&&e.jsxs("div",{className:"flex items-center gap-1.5 mt-2 bg-amber-50 p-1.5 rounded border border-amber-100",children:[e.jsx(Te,{size:12,className:"text-amber-600"}),e.jsx("p",{className:"text-[10px] text-amber-700 font-bold",children:"Signal weak. Move outdoors or near windows for better precision."})]})]}),x&&!M&&p===null&&!v&&e.jsxs("p",{className:"text-xs text-brand-600 font-medium -mt-2 animate-pulse flex items-center gap-1",children:[e.jsx(W,{size:12,className:"animate-spin"})," Acquiring satellite lock..."]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xl font-bold text-slate-900",children:r("help.what_need")}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{id:"Medical",icon:e.jsx($e,{size:24}),color:"red"},{id:"Fire",icon:e.jsx(De,{size:24}),color:"orange"},{id:"Flood",icon:e.jsx(le,{size:24}),color:"blue"},{id:"Police",icon:e.jsx(Ae,{size:24}),color:"slate"}].map(s=>e.jsxs("button",{onClick:()=>o({emergencyType:s.id}),className:`p-4 rounded-xl border flex flex-col items-center gap-2 transition-all ${a.emergencyType===s.id?`border-${s.color}-600 bg-${s.color}-50 text-${s.color}-900 ring-2 ring-${s.color}-600 ring-offset-1`:"border-slate-300 bg-white text-slate-700 hover:border-slate-400"}`,children:[s.icon,e.jsx("span",{className:"font-bold text-lg",children:s.id})]},s.id))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xl font-bold text-slate-900",children:r("help.injured_q")}),e.jsx("div",{className:"flex gap-4",children:["Yes","No"].map(s=>{const t=s==="Yes";return e.jsx(m,{type:"button",variant:a.isInjured===t?"primary":"outline",onClick:()=>o({isInjured:t}),className:`flex-1 font-bold ${a.isInjured!==t?"border-slate-300 text-slate-700":""}`,children:s==="Yes"?"Yes":"No"},s)})})]})]}),c===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(re,{label:r("help.situation"),placeholder:"E.g. Water is rising rapidly, trapped in attic...",value:a.situationDescription,onChange:s=>o({situationDescription:s.target.value}),className:"border-slate-300 text-slate-900"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-lg font-bold text-slate-900",children:r("help.evac_q")}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(m,{variant:a.canEvacuate===!0?"primary":"outline",onClick:()=>o({canEvacuate:!0}),className:"flex-1 font-bold",children:"Yes"}),e.jsx(m,{variant:a.canEvacuate===!1?"danger":"outline",onClick:()=>o({canEvacuate:!1}),className:"flex-1 font-bold",children:"No"})]})]}),e.jsx(ne,{type:"number",label:r("help.people_count"),min:1,value:a.peopleCount,onChange:s=>o({peopleCount:parseInt(s.target.value)}),className:"border-slate-300 text-slate-900 font-bold"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-lg font-bold text-slate-900",children:r("help.pets_q")}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(m,{variant:a.petsPresent===!0?"primary":"outline",onClick:()=>o({petsPresent:!0}),className:"flex-1 font-bold",children:"Yes"}),e.jsx(m,{variant:a.petsPresent===!1?"secondary":"outline",onClick:()=>o({petsPresent:!1}),className:"flex-1 font-bold",children:"No"})]})]})]}),c===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:r("help.resources_title")}),e.jsx("p",{className:"text-slate-600 font-medium text-base",children:r("help.resources_desc")}),[{key:"hasWater",label:"Clean Water",icon:e.jsx(le,{size:18})},{key:"hasFood",label:"Food",icon:e.jsx("span",{className:"text-lg",children:"ðŸ¥«"})},{key:"hasMeds",label:"Medications",icon:e.jsx("span",{className:"text-lg",children:"ðŸ’Š"})},{key:"hasPower",label:"Electricity",icon:e.jsx(Me,{size:18})},{key:"hasPhone",label:"Phone Service",icon:e.jsx("span",{className:"text-lg",children:"ðŸ“¶"})}].map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl border border-slate-300 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg text-slate-700",children:s.icon}),e.jsx("span",{className:"font-bold text-slate-900",children:s.label})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>o({[s.key]:!0}),className:`px-4 py-2 rounded-lg text-sm font-bold transition-colors ${a[s.key]===!0?"bg-green-100 text-green-800 border border-green-200":"bg-slate-100 text-slate-500 border border-slate-200"}`,children:"Yes"}),e.jsx("button",{onClick:()=>o({[s.key]:!1}),className:`px-4 py-2 rounded-lg text-sm font-bold transition-colors ${a[s.key]===!1?"bg-red-100 text-red-800 border border-red-200":"bg-slate-100 text-slate-500 border border-slate-200"}`,children:"No"})]})]},s.key))]}),c===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-lg font-bold text-slate-900",children:r("help.vuln_title")}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Elderly","Infants","Disabled","Pregnant"].map(s=>e.jsx("button",{onClick:()=>{const t=a.vulnerableGroups,l=t.includes(s)?t.filter(i=>i!==s):[...t,s];o({vulnerableGroups:l})},className:`p-3 rounded-lg border text-sm font-bold transition-all ${a.vulnerableGroups.includes(s)?"bg-brand-50 border-brand-500 text-brand-800":"bg-white border-slate-300 text-slate-600"}`,children:s},s))})]}),e.jsx(re,{label:r("help.medical_cond"),placeholder:"Diabetes, requires dialysis, wheelchair user...",value:a.medicalConditions,onChange:s=>o({medicalConditions:s.target.value}),className:"border-slate-300"})]}),c===5&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:r("help.review")}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-300 p-4 space-y-4 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between border-b border-slate-100 pb-2",children:[e.jsx("span",{className:"text-slate-600 font-medium",children:"Emergency Type"}),e.jsx("span",{className:"font-bold text-slate-900",children:a.emergencyType||"Not specified"})]}),e.jsxs("div",{className:"flex justify-between border-b border-slate-100 pb-2",children:[e.jsx("span",{className:"text-slate-600 font-medium",children:"People Count"}),e.jsx("span",{className:"font-bold text-slate-900",children:a.peopleCount})]}),e.jsxs("div",{className:"flex justify-between border-b border-slate-100 pb-2",children:[e.jsx("span",{className:"text-slate-600 font-medium",children:"Injuries"}),e.jsx("span",{className:"font-bold text-slate-900",children:a.isInjured?"Yes":"No"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 font-medium",children:"Location"}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"block font-bold truncate max-w-[150px] font-mono text-xs text-slate-900",children:a.location||"Pending..."}),x?e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs("span",{className:"text-[10px] text-green-700 font-bold flex items-center justify-end gap-1",children:[e.jsx(W,{size:10,className:"animate-spin"})," Live"]}),p&&e.jsxs("span",{className:"text-[10px] text-slate-500 font-mono",children:["Â±",p,"m"]})]}):v?e.jsxs("span",{className:"text-[10px] text-amber-600 font-bold flex items-center justify-end gap-1",children:[e.jsx(ae,{size:10})," Network (Approx)"]}):e.jsxs("span",{className:"text-[10px] text-slate-500 font-bold flex items-center justify-end gap-1",children:[e.jsx(Y,{size:10})," Manual/Frozen"]})]})]})]})]})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t border-slate-200 z-30",children:e.jsx("div",{className:"max-w-md mx-auto flex gap-4",children:c<5?e.jsx(m,{fullWidth:!0,onClick:be,size:"lg",className:"font-bold text-lg",children:r("btn.next")}):e.jsx(m,{fullWidth:!0,size:"lg",disabled:B,onClick:pe,className:"bg-red-600 hover:bg-red-700 font-bold text-lg shadow-lg shadow-red-200",children:B?g?"Saving...":"Sending...":g?"Save for Sync":r("help.submit_btn")})})})]})};export{ss as HelpFormView};
