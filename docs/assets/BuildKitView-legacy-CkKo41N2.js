System.register(["./index-legacy-CBJaRI7y.js","./Button-legacy-7JcGJbKP.js","./arrow-left-legacy-BCEH-quZ.js","./check-legacy-CKAWtMvp.js","./file-text-legacy-BCNsxWTK.js","./save-legacy-CDIHckZ0.js","./sparkles-legacy-Cyv0mQrS.js","./droplets-legacy-CQtlTzoX.js"],function(e,t){"use strict";var s,a,i,r,l,n,d,o,c,h,m,x,p,u,b,y,f,g;return{setters:[e=>{s=e.c,a=e.r,i=e.S,r=e.M,l=e.j,n=e.X,d=e.Y,o=e._,c=e.Z},e=>{h=e.B},e=>{m=e.A},e=>{x=e.C},e=>{p=e.C,u=e.F},e=>{b=e.S,y=e.H},e=>{f=e.S},e=>{g=e.D}],execute:function(){
/**
       * @license lucide-react v0.556.0 - ISC
       *
       * This source code is licensed under the ISC license.
       * See the LICENSE file in the root directory of this source tree.
       */
const j=s("flashlight",[["path",{d:"M12 13v1",key:"176q98"}],["path",{d:"M17 2a1 1 0 0 1 1 1v4a3 3 0 0 1-.6 1.8l-.6.8A4 4 0 0 0 16 12v8a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2v-8a4 4 0 0 0-.8-2.4l-.6-.8A3 3 0 0 1 6 7V3a1 1 0 0 1 1-1z",key:"17vh7j"}],["path",{d:"M6 6h12",key:"n6hhss"}]]),v=s("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),N="aeraReadyKit",w=[{id:"food",title:"Food & Water",subtitle:"Keep yourself fed and hydrated",icon:l.jsx(g,{size:20,className:"text-blue-700"}),items:[{id:"water",title:"Bottled water",description:"About 1 gallon per person each day",quantity:"3 days"},{id:"food",title:"Easy-to-eat foods",description:"Canned items, granola bars, crackers",quantity:"3 days"},{id:"plates",title:"Paper plates and utensils",description:"Cups, forks, spoons you can throw away",quantity:"1 pack"},{id:"opener",title:"Can opener",description:"Manual type that doesn't need electricity",quantity:"1x"},{id:"filter",title:"Water filter or purifier",description:"Small device or tablets to clean water",quantity:"1 item"}]},{id:"health",title:"Health Items",subtitle:"Take care of yourself and family",icon:l.jsx(y,{size:20,className:"text-rose-600"}),items:[{id:"bandages",title:"Bandages and wound care",description:"Band-aids, gauze, medical tape",quantity:"1 kit"},{id:"meds",title:"Your regular medications",description:"Keep about a week's worth if possible",quantity:"7 days"},{id:"common-meds",title:"Common medicines",description:"Pain relief, stomach, allergy meds",quantity:"Small supply"},{id:"glasses",title:"Extra glasses or contacts",description:"If you wear them, keep a spare pair",quantity:"1 pair"},{id:"sanitizer",title:"Hand sanitizer and soap",description:"Small bottles to keep hands clean",quantity:"Travel size"},{id:"toiletries",title:"Toiletries",description:"Toothbrush, hygiene items, tissues",quantity:"Small kit"}]},{id:"power",title:"Light & Power",subtitle:"Stay connected and see in the dark",icon:l.jsx(j,{size:20,className:"text-amber-600"}),items:[{id:"flashlight",title:"Flashlight",description:"LED type with extra batteries",quantity:"1-2x"},{id:"radio",title:"Battery or hand-crank radio",description:"To hear news and weather updates",quantity:"1x"},{id:"charger",title:"Phone charger and power bank",description:"Wall plug, cables, backup battery",quantity:"Complete set"},{id:"car-charger",title:"Car phone charger",description:"Charge from your vehicle if needed",quantity:"1x"},{id:"whistle",title:"Whistle",description:"Loud one to get attention",quantity:"1-2x"},{id:"mask",title:"Dust masks",description:"N95 type for filtering air",quantity:"3-5x"},{id:"multi-tool",title:"Multi-tool",description:"Knife, pliers, screwdriver in one",quantity:"1x"}]},{id:"papers",title:"Papers & Money",subtitle:"Keep important info handy",icon:l.jsx(u,{size:20,className:"text-slate-600"}),items:[{id:"ids",title:"Copies of IDs",description:"Driver's license, passport, birth certificate",quantity:"Photocopies"},{id:"cash",title:"Cash",description:"Small bills in case cards don't work",quantity:"$200-300"},{id:"contacts",title:"Contact list",description:"Phone numbers written down on paper",quantity:"1 list"},{id:"insurance",title:"Insurance papers",description:"Copies of your insurance info",quantity:"Photocopies"},{id:"map",title:"Local map",description:"Paper map of your area",quantity:"1x"},{id:"usb",title:"USB drive",description:"Digital copies of important files",quantity:"1x"},{id:"photos",title:"Family photos",description:"Printed pictures to help identify people",quantity:"A few"}]}];e("BuildKitView",({setView:e})=>{const[s,y]=a.useState({}),[g,j]=a.useState({}),[k,F]=a.useState(!1),[S,M]=a.useState(null),z=a.useMemo(()=>{const e=i.getProfile(),t=Array.isArray(e.household)?e.household:[],s=Math.max(1,Number(e.householdMembers)||1);let a=1,l=0,n=0;t.forEach(e=>{const t=String(e.age||"").trim(),s=r(t),i=Number.isFinite(Number(t))?Number(t):null,d=null!=s?s:i;if(null!=d){if(d>=65)return void(n+=1);if(d<=17)return void(l+=1)}"SENIOR"===e.ageGroup?n+=1:"CHILD"===e.ageGroup||"TEEN"===e.ageGroup||"INFANT"===e.ageGroup?l+=1:a+=1});const d=a+l+n;return{people:Math.max(s,d),adults:a,children:l,seniors:n}},[]),C=(e,t)=>{const s=Math.max(1,z.people),a=Math.max(1,z.adults),i=Math.max(0,z.children),r=Math.max(0,z.seniors),l=Math.max(3,Number((null==S?void 0:S.recommended_duration_days)||3));switch(e){case"water":return`${s*l} gal (${l}d)`;case"food":return s*l+" meals";case"plates":return`${Math.max(1,Math.ceil(s*l/18))} packs`;case"filter":return`${Math.max(1,Math.ceil(s/4))} unit(s)`;case"bandages":return`${Math.max(1,Math.ceil(s/2))} kit(s)`;case"meds":return`${l} days/person`;case"common-meds":return`${Math.max(1,Math.ceil(s/2))} supply sets`;case"sanitizer":return`${Math.max(1,Math.ceil(s/2))} bottles`;case"toiletries":return`${Math.max(1,Math.ceil(s/2))} hygiene kits`;case"flashlight":return`${Math.max(1,Math.ceil(s/2))}x`;case"whistle":return`${s}x`;case"mask":return`${Math.max(3,3*s)}x`;case"cash":return`$${200+75*(s-1)}-${300+100*(s-1)}`;case"contacts":return`${Math.max(1,a)} list(s)`;case"photos":return`${Math.max(4,2*s)} photos`;case"opener":case"radio":case"car-charger":case"multi-tool":case"map":case"usb":return s>=4?"2x":"1x";case"glasses":return"1 pair per wearer";default:return r>0&&("charger"===e||"power"===e)?`${Math.max(2,Math.ceil(s/2))} sets`:i>0&&"food"===e?s*l+" meals (+ child snacks)":t}},$=a.useMemo(()=>{const e=new Set(w.flatMap(e=>e.items.map(e=>e.id)));return((null==S?void 0:S.added_items)||[]).filter(t=>!e.has(t.id))},[S]),q=a.useMemo(()=>w.reduce((e,t)=>e+t.items.length,0)+$.length,[$]),A=a.useMemo(()=>Object.values(g).filter(Boolean).length,[g]),D=Math.round(A/q*100);a.useEffect(()=>{y(e=>({...e,[w[0].id]:!0}))},[]),a.useEffect(()=>{const e=localStorage.getItem(N);let t=0;if(e)try{const s=JSON.parse(e);if(null!=s&&s.checkedIds&&Array.isArray(s.checkedIds)){const e={};s.checkedIds.forEach(t=>{e[t]=!0}),j(e)}null!=s&&s.lastUpdated&&(t=Date.parse(s.lastUpdated)||0)}catch{}(async()=>{try{const e=await n();if(null==e||!e.checked_ids||!Array.isArray(e.checked_ids))return;if((e.updated_at?Date.parse(e.updated_at):0)>=t){const t={};e.checked_ids.forEach(e=>{t[e]=!0}),j(t)}}catch{}try{const e=await d();M(e)}catch{}})()},[]);const E=e=>{j(t=>({...t,[e]:!t[e]}))};return l.jsxs("div",{className:"min-h-screen bg-slate-50 pb-40",children:[l.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 text-white px-5 pt-4 pb-6",children:l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("button",{onClick:()=>e("DASHBOARD"),className:"w-9 h-9 rounded-xl bg-white/20 flex items-center justify-center hover:bg-white/30",children:l.jsx(m,{size:18})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Build Your Ready Kit"}),l.jsx("p",{className:"text-sm text-blue-50",children:"Gather helpful items to have on hand when you need them"})]})]})}),l.jsxs("div",{className:"bg-white px-5 py-4 border-b border-slate-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"What You’ve Gathered"}),l.jsxs("span",{className:"text-xs font-bold text-emerald-600",children:[A," of ",q," items"]})]}),l.jsx("button",{onClick:()=>e("READINESS_GAP"),className:"text-[11px] font-semibold text-brand-600 hover:underline mb-2",children:"View readiness gaps"}),l.jsxs("p",{className:"text-[11px] text-slate-500 mb-2",children:["Quantities auto-scaled for ",z.people," household member",1===z.people?"":"s","."]}),l.jsx("div",{className:"w-full h-2 bg-slate-200 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-600 to-emerald-400",style:{width:`${D}%`}})})]}),S&&l.jsxs("div",{className:"mx-4 mt-4 bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[l.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-200",children:[l.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Personalized Preparedness Guidance"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Based on your profile, we recommend the following:"})]}),l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[l.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-2",children:[l.jsx("p",{className:"text-[10px] text-blue-700 font-bold uppercase",children:"Supply Duration"}),l.jsxs("p",{className:"text-lg font-black text-blue-900",children:[S.recommended_duration_days,"d"]})]}),l.jsxs("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 p-2",children:[l.jsx("p",{className:"text-[10px] text-emerald-700 font-bold uppercase",children:"Readiness"}),l.jsxs("p",{className:"text-lg font-black text-emerald-900",children:[Math.round(S.readiness_score),"%"]})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-2",children:[l.jsx("p",{className:"text-[10px] text-slate-600 font-bold uppercase",children:"Risk Tier"}),l.jsx("p",{className:"text-lg font-black text-slate-900",children:S.risk_tier})]})]}),S.critical_missing_items.length>0&&l.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-3",children:[l.jsx("p",{className:"text-xs font-bold text-red-700 uppercase mb-1",children:"Critical Items Needed"}),l.jsx("ul",{className:"space-y-1",children:S.critical_missing_items.map(e=>l.jsxs("li",{className:"text-sm text-red-900",children:["• ",e.item]},e.id))}),l.jsxs("p",{className:"text-xs text-red-700 mt-2",children:["Readiness is currently capped at ",Math.round(S.readiness_cap),"% until these are completed."]})]}),S.added_items.length>0&&l.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3",children:[l.jsx("p",{className:"text-xs font-bold text-amber-700 uppercase mb-1",children:"Dynamic Kit Additions"}),l.jsx("ul",{className:"space-y-1",children:S.added_items.slice(0,8).map(e=>l.jsxs("li",{className:"text-sm text-amber-900",children:["• ",e.item," ",l.jsxs("span",{className:"text-[11px] uppercase font-semibold",children:["(",e.priority,")"]})]},e.id))})]})]})]}),$.length>0&&l.jsxs("div",{className:"mx-4 mt-4 bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[l.jsxs("div",{className:"px-4 py-3 bg-amber-50 border-b border-amber-200",children:[l.jsx("h3",{className:"text-sm font-bold text-amber-900",children:"Profile-Based Required Additions"}),l.jsx("p",{className:"text-xs text-amber-700",children:"These items were added automatically based on your profile."})]}),l.jsx("div",{children:$.map(e=>{const t=!!g[e.id];return l.jsxs("button",{onClick:()=>E(e.id),className:"w-full px-4 py-3 flex items-center gap-3 border-b last:border-b-0 border-slate-100 hover:bg-slate-50",children:[l.jsx("div",{className:"w-5 h-5 rounded-md border-2 flex items-center justify-center "+(t?"bg-emerald-600 border-emerald-600":"border-slate-300"),children:t&&l.jsx(x,{size:12,className:"text-white"})}),l.jsxs("div",{className:"flex-1 text-left "+(t?"opacity-60 line-through":""),children:[l.jsx("div",{className:"text-sm font-semibold text-slate-900",children:e.item}),l.jsx("div",{className:"text-xs text-slate-500",children:e.explanation||"Added from intake rule engine."})]}),l.jsx("span",{className:"text-[10px] px-2 py-1 rounded uppercase font-bold "+("critical"===String(e.priority).toLowerCase()?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"),children:e.priority})]},e.id)})})]}),l.jsx("div",{className:"px-4 py-4 space-y-2",children:w.map(e=>{const t=e.items.filter(e=>g[e.id]).length,a=!!s[e.id];return l.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden shadow-sm",children:[l.jsxs("button",{onClick:()=>{return t=e.id,void y(e=>({...e,[t]:!e[t]}));var t},className:"w-full flex items-center justify-between px-4 py-4 hover:bg-slate-50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-11 h-11 rounded-xl bg-blue-50 flex items-center justify-center",children:e.icon}),l.jsxs("div",{className:"text-left",children:[l.jsx("h3",{className:"text-sm font-bold text-slate-900",children:e.title}),l.jsx("p",{className:"text-xs text-slate-500",children:e.subtitle})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-xs font-bold text-emerald-700 bg-emerald-50 px-2 py-1 rounded-lg",children:[t,"/",e.items.length]}),l.jsx(p,{size:18,className:"text-slate-400 transition-transform "+(a?"rotate-180":"")})]})]}),a&&l.jsx("div",{className:"border-t border-slate-100",children:e.items.map(e=>{const t=!!g[e.id];return l.jsxs("button",{onClick:()=>E(e.id),className:"w-full px-4 py-3 flex items-center gap-3 border-b border-slate-100 hover:bg-slate-50",children:[l.jsx("div",{className:"w-5 h-5 rounded-md border-2 flex items-center justify-center "+(t?"bg-emerald-600 border-emerald-600":"border-slate-300"),children:t&&l.jsx(x,{size:12,className:"text-white"})}),l.jsxs("div",{className:"flex-1 text-left "+(t?"opacity-60 line-through":""),children:[l.jsx("div",{className:"text-sm font-semibold text-slate-900",children:e.title}),l.jsx("div",{className:"text-xs text-slate-500",children:e.description})]}),l.jsx("span",{className:"text-[11px] font-semibold text-slate-600 bg-slate-100 px-2 py-1 rounded-md",children:C(e.id,e.quantity)})]},e.id)})})]},e.id)})}),l.jsxs("div",{className:"fixed bottom-0 inset-x-0 bg-white border-t border-slate-200 px-4 pt-3 pb-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[l.jsxs("button",{onClick:async()=>{const{jsPDF:e}=await o(async()=>{const{jsPDF:e}=await t.import("./jspdf.es.min-legacy-SMgd3F1a.js").then(e=>e.j);return{jsPDF:e}},void 0),s=new e({unit:"pt",format:"letter"}),a=s.internal.pageSize.getWidth(),i=s.internal.pageSize.getHeight(),r=54,l=a-108,n="#5B9BD5",d="#DAE8F5",c="#70AD47",h="#2C3E50",m="#5A6C7D",x="#BDD7EE",p="#4472C4",u="#E7F3FF",b="#FFFFFF",y=e=>s.setFillColor(e),f=e=>s.setTextColor(e),g=e=>s.setDrawColor(e);let j=r;s.setFont("helvetica","bold"),s.setFontSize(24),f(p),s.text("Your Ready Kit Checklist",a/2,j,{align:"center"}),j+=22,s.setFont("helvetica","normal"),s.setFontSize(12),f(m),s.text("Gather these helpful items to have on hand when you need them",a/2,j,{align:"center"}),j+=28,y(d),g(n),s.rect(r,j,l,120,"FD"),s.setFont("helvetica","bold"),s.setFontSize(12),f(b),y(n),s.rect(r,j,l,26,"F"),s.text("My Progress Tracker",66,j+18),s.setFont("helvetica","normal"),s.setFontSize(11),f(h),[`☐ Food & Water (${w[0].items.length} items)`,`☐ Health Items (${w[1].items.length} items)`,`☐ Light & Power (${w[2].items.length} items)`,`☐ Papers & Money (${w[3].items.length} items)`].forEach((e,t)=>{s.text(e,70,j+46+18*t)}),j+=148,w.forEach(e=>{var t,a;j+140>i&&(s.addPage(),j=r),t=`${e.title}`,a=e.subtitle,y(u),g(n),s.rect(r,j,l,32,"FD"),s.setFont("helvetica","bold"),s.setFontSize(15),f(p),s.text(t,66,j+20),j+=40,s.setFont("helvetica","normal"),s.setFontSize(10),f(m),s.text(a,66,j+2),j+=12,(e=>{const t=l-24-90;e.forEach((e,a)=>{j+30+40>i&&(s.addPage(),j=r),y(a%2==1?d:b),g(x),s.rect(r,j,l,30,"FD"),s.setFont("helvetica","bold"),s.setFontSize(14),f(c),s.text("☐",62,j+20),s.setFont("helvetica","bold"),s.setFontSize(11),f(h),s.text(e.title,78,j+14,{maxWidth:t-10}),s.setFont("helvetica","normal"),s.setFontSize(9),f(m),s.text(e.description,78,j+26,{maxWidth:t-10}),s.setFont("helvetica","bold"),s.setFontSize(10),f(m),s.text(C(e.id,e.quantity),78+t+90-8,j+18,{align:"right"}),j+=30}),j+=16})(e.items)}),j+120>i&&(s.addPage(),j=r),s.setFont("helvetica","bold"),s.setFontSize(14),f(p),s.text("Helpful Tips",r,j+14),j+=22,y(d),g(n),s.rect(r,j,l,86,"FD"),s.setFont("helvetica","bold"),s.setFontSize(12),f(c),["Store your kit in an easy-to-reach spot that everyone in your home knows about","Check expiration dates every 6 months and replace items as needed","Keep this list with your kit so you can re-check it later","Share this checklist with family members so everyone can help gather items"].forEach((e,t)=>{s.text("✓",66,j+22+18*t),s.setFont("helvetica","normal"),s.setFontSize(10),f(h),s.text(e,82,j+22+18*t,{maxWidth:l-40}),s.setFont("helvetica","bold"),s.setFontSize(12),f(c)}),j+=96,s.save("AERA-Ready-Kit.pdf")},className:"flex items-center justify-center gap-2 rounded-xl border border-slate-200 py-3 text-sm font-semibold text-slate-600 hover:bg-slate-50",children:[l.jsx(u,{size:16})," Download PDF"]}),l.jsxs("button",{onClick:async()=>{const e=(()=>{const e=[];return e.push("AERA Ready Kit"),e.push(`Progress: ${A} of ${q} items`),e.push(""),w.forEach(t=>{e.push(t.title),t.items.forEach(t=>{const s=g[t.id];e.push(`${s?"✓":"•"} ${t.title} (${C(t.id,t.quantity)}) - ${t.description}`)}),e.push("")}),e})().join("\n");if(navigator.share)try{return void(await navigator.share({title:"AERA Ready Kit",text:e}))}catch(t){if("AbortError"===(null==t?void 0:t.name))return void alert("Share cancelled.")}try{return await navigator.clipboard.writeText(e),void alert("Ready kit copied to clipboard.")}catch{}try{const t=encodeURIComponent("AERA Ready Kit"),s=encodeURIComponent(e);window.location.href=`mailto:?subject=${t}&body=${s}`,alert("Opened email draft with your ready kit summary.")}catch{alert("Unable to share right now.")}},className:"flex items-center justify-center gap-2 rounded-xl border border-slate-200 py-3 text-sm font-semibold text-slate-600 hover:bg-slate-50",children:[l.jsx(v,{size:16})," Share"]})]}),l.jsxs("button",{onClick:async()=>{const e=Object.keys(g).filter(e=>g[e]);localStorage.setItem(N,JSON.stringify({checkedIds:e,totalItems:q,checkedItems:e.length,lastUpdated:(new Date).toISOString()}));try{await c({checkedIds:e,totalItems:q,checkedItems:e.length});try{const e=await d();M(e)}catch{}}catch{}F(!0)},className:"w-full rounded-xl bg-gradient-to-br from-emerald-600 to-emerald-700 text-white py-3 text-sm font-bold shadow-lg shadow-emerald-200",children:[l.jsx(b,{size:16,className:"inline-block mr-2"})," Save My List"]})]}),k&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:l.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full text-center shadow-2xl",children:[l.jsx("div",{className:"w-14 h-14 rounded-full bg-emerald-100 mx-auto flex items-center justify-center text-emerald-600 mb-4",children:l.jsx(f,{size:26})}),l.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"All Set!"}),l.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Your list is saved and ready whenever you need it. You can find it in your Settings."}),l.jsx(h,{className:"mt-4 w-full",onClick:()=>F(!1),children:"Sounds good"})]})})]})})}}});
